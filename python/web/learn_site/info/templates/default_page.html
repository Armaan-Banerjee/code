<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            .page {
            width: 98vw; /* 98% of the viewport width */
            height: 60vh; /* 60% of the viewport height */
            border: none;
            resize: none; /* Prevent resizing by the user */
            }

            .limited-height-div {
                max-height: 20vh;
                overflow-y: auto; 
                padding: 20px; 
                max-width: 80vw;
            }

        </style>
    </head>
    <body>
        <a href="/"><button>Go to home</button></a>
        <h1>{{page.title}} </h1>

        <textarea readonly class="page"> {{page.data | safe}} </textarea>

        {% if tags|length > 0 %}
        <h3>Tags:</h3>
        <ul>
        {% for tag in tags %}
            <li> <a href="/tag/{{tag.id}}/{{tag.name}}">{{tag.name}}</a> </li>
        {% endfor %}
        </ul>
        {% endif %}

        <h3>add comment:</h3>
        <form action="/comments/add?user_id={{user.id}}&page_id={{page.id}}" method="POST">
            {% csrf_token %}
            <p>
                <div class="limited-height-div">
                <div style="border: solid 2px red; max-width: 80vw;">
                {{comment_form.as_p}}
                </div>
                </div>
            </p>
            <input type="submit" value="Submit">
        </form>

        {% if comments|length > 0%}
            <h3> comments: </h3>
            <ul>
            {% for comment in comments %}
                <div style="border: 2px solid black;">
                    <p><a href="/user/{{comment.user.id}}">{{comment.user.username}}</a> commented on {{comment.date_created}}: </p>
                    <p>{{comment.text}}</p>
                </div>
            {% endfor %}
            </ul>
        {% endif %}
    </body>
</html>